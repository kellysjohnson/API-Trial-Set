/*! API_Trial_Data_Set 2015-06-03 */
function randomNumber(a,b){return Math.floor(Math.random()*(1+b-a)+a)}function shuffle(a){for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a}function dataDisplay(a){birdData=a,dataToAppend="",someSpace=0xb3a73cc1d78;var b=a.recordings.length;for(console.log(b),i=0;i<a.recordings.length;i++){var c=i+1,d=i+1e3;i+2e3;n=randomNumber(0,b),o=randomNumber(0,b),p=randomNumber(0,b);var e=a.recordings[i].file,f='<div class="btn btn-group-sm brown"><a target="blank" ng-click="audio = audio" class="popup2" href='+e+">Listen</a></div>",g='<div class="input-group"><input name="user-provided" type="text" id="'+d+'" class="form-control js-query" placeholder="common name"><button class="btn btn-input-group submit js-search">Submit</button></div>';dataToAppend+='<div class="eachSet" id="'+i+'"><div class="row one"><div class="item"><div class="recording"> Recording '+c+': <span class="name reveal">'+a.recordings[i].en+"</span>"+f+'</div><div class="row two"><div class="answer"> Answer:'+g+"</div></div></div></div></div>"}$(".appendHere").append(dataToAppend)}function checkAnswer(){if(searchElement=objectID+1e3,console.log(searchElement),element=$("#"+searchElement).val(),element=element.toLowerCase(),console.log(element),correctAnswer=birdData.recordings[objectID].en,correctAnswer=correctAnswer.toLowerCase(),console.log(correctAnswer),correctAnswer==element){youreCorrect='<div class="btn btn-group-sm btn-success correct">Correct !</div>',$(".addAnswers").append(youreCorrect),console.log("Hi"),$(".points").remove(),sum+=10,sum>=100&&(sum=100);var a='<div class="points btn btn-group-sm"> Points: '+sum+"/"+total+"</div>";$(".buttonsHolder").prepend(a)}else console.log("Nope!"),youreWrong='<div class="btn btn-group-sm btn-danger wrong">Wrong X</div>',$(".addAnswers").append(youreWrong)}function radioCheckAnswer(a){if(correctAnswer=birdData.recordings[objectID].en,correctAnswer=correctAnswer.toLowerCase(),console.log(correctAnswer),console.log("The correct answer is:"+correctAnswer),console.log("The selected answer is:"+a),correctAnswer==a){youreCorrect='<div class="btn btn-group-sm btn-success correct">Correct !</div>',$(".correct").remove(),$(".addAnswers").append(youreCorrect),console.log("Hi"),$(".points").remove(),sum+=10,sum>=100&&(sum=100);var b='<div class="plusten"> +10 </div>';$(".plusten").remove(),$(".appendOtherColumn").prepend(b).fadeIn(1e3);var c='<div class="points btn btn-group-sm"> Points: '+sum+"/"+total+"</div>";$(".buttonsHolder").prepend(c),previousradioAnswer=correctAnswer}else{console.log("Nope!"),youreWrong='<div class="btn btn-group-sm btn-danger wrong">Wrong Click New Bird</div>',$(".wrong").remove(),$(".addAnswers").append(youreWrong);var d='<div class="btn btn-group-sm btn-default giveAnswer">The Answer is....  '+birdData.recordings[objectID].en+"</div>";$(".giveAnswer").remove(),$(".answerForm").prepend(d),$(".circle").addClass("hidden")}}function toggleVisibility(a){var b=document.getElementById(a);(b.style.display="none")?b.style.display="block":b.style.display="none",console.log(b)}function toggleVisibilityPlus(a){var b=document.getElementById(a);(b.style.display="none")?b.style.display="block":b.style.display="none",console.log("visBird is the element by Id for number"+b)}var localRoute="/apiBirds",birdData,dataToAppend,someSpace,previous=1,newbirdnumber,answerArray=[],choiceArray=[],number,objectID,correctAnswer,youreCorrect,youreWrong,choice,element,searchElement,activeLink,modal,numQs=10,sum=0,total=10*numQs,qnumber=1,totalforGame,country="brazil",displayQuestions,radioButtons,previousradioAnswer,radioAns,answerFormDiv,n,o,p;$(document).ready(function(){$.get("25MayDataUS.json",function(a){birdData=a,console.log(".get json data works"),console.log(birdData.recordings.length),dataDisplay(a)}),$(".letsplay").on("click",function(){var a=birdData.recordings.length-1;number=randomNumber(0,a),console.log("Random number for letsplay"+number),objectID=number,previous=number,answerArray=[birdData.recordings[objectID].en,birdData.recordings[n].en,birdData.recordings[o].en,birdData.recordings[p].en],console.log("This is the id that matches the random number"+birdData.recordings[number].en),$(".letsplay").hide(),$(".newbird").show(),toggleVisibilityPlus(number),choiceArray=shuffle(answerArray),answerFormDiv='<div class ="answerForm"></div>',radioButtons='<div class="row"><div class="circle" id="9996"></div><div class="result">'+choiceArray[0]+'</div></div></div><div class="row"><div class="circle" id="9997"></div><div class="result">'+choiceArray[1]+'</div></div></div><div class="row"><div class="circle" id="9998"></div><div class="result">'+choiceArray[2]+'</div></div></div><div class="row"><div class="circle" id="9999"></div><div class="result">'+choiceArray[3]+"</div></div></div>",$(".appendOtherColumn").append(answerFormDiv),$(".answerForm").append(radioButtons)}),$(".appendOtherColumn").on("click",".circle",function(){function a(a){return 9996==a?radioAns=choiceArray[0]:9997==a?radioAns=choiceArray[1]:9998==a?radioAns=choiceArray[2]:9999==a&&(radioAns=choiceArray[3]),radioAns=radioAns.toLowerCase(),console.log("This is the selected choice"+radioAns),radioAns}choice=$(this).attr("id"),console.log(choice),$(this).toggleClass("dos"),radioCheckAnswer(a(choice));var b='<div class="points btn btn-group-sm"> Points: '+sum+"/"+total+"</div>";$(".points").remove(),$(".buttonsHolder").prepend(b)}),$(".newbird").on("click",function(){qnumber+=1;var a=document.getElementById(previous);(a.style.display="block")&&(a.style.display="none"),$(".js-search").attr("disabled",!1),$(".answerForm").remove(),$(".correct").remove(),$(".wrong").remove(),$(".questions").remove(),$(".plusten").remove(),displayQuestions='<p class="questions"> Question: '+qnumber+"/"+numQs+"</p>",2==qnumber?$(".underflagdiv").replaceWith(displayQuestions):$(".flagdiv").append(displayQuestions);var b=birdData.recordings.length-1;if(newbirdnumber=randomNumber(0,b),console.log(newbirdnumber),objectID=newbirdnumber,toggleVisibility(newbirdnumber),previous=newbirdnumber,activeLink=birdData.recordings[number].file,answerArray=[birdData.recordings[newbirdnumber].en,birdData.recordings[n].en,birdData.recordings[o].en,birdData.recordings[p].en],correctAnswer=birdData.recordings[newbirdnumber].en,choiceArray=shuffle(answerArray),answerFormDiv='<div class ="answerForm"></div>',radioButtons='<div class="row"><div class="circle" id="9996"></div><div class="result">'+choiceArray[0]+'</div></div></div><div class="row"><div class="circle" id="9997"></div><div class="result">'+choiceArray[1]+'</div></div></div><div class="row"><div class="circle" id="9998"></div><div class="result">'+choiceArray[2]+'</div></div></div><div class="row"><div class="circle" id="9999"></div><div class="result">'+choiceArray[3]+"</div></div></div>",$(".appendOtherColumn").append(answerFormDiv),$(".answerForm").append(radioButtons),qnumber>10){totalforGame=sum;var c=angular.element($(".points")).scope();c.$apply(function(){c.player=Player.find({},"name").update("points",{points:sum})}),location.reload()}}),$(".appendHere").on("click",".js-search",function(){$(".correct").remove(),$(".wrong").remove(),checkAnswer(),$(this).attr("disabled",!0)}),$(".headerflag").on("click",".specificflag",function(){$(".letsplay").show(),$(".nameentry").hide(),console.log("I clicked a flag....");var a=$(this).attr("id");console.log(a)})});