/*! API_Trial_Data_Set 2015-06-05 */
function randomNumber(a,b){return Math.floor(Math.random()*(1+b-a)+a)}function shuffle(a){for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a}function dataDisplay(a){birdData=a,dataToAppend="",someSpace=0x462d53bbb82ee;var b=a.recordings.length;for(console.log(b),i=0;i<a.recordings.length;i++){i+1,i+1e3,i+2e3;n=randomNumber(0,b),o=randomNumber(0,b),p=randomNumber(0,b);var c=a.recordings[i].file,d='<div class="btn btn-group-sm brown"><a target="blank" ng-click="audio = audio" class="popup2" href='+c+">Listen</a></div>";modal='<a href="#openModal">Listen</a><div id="openModal" class="modalDialog"><div><a href="#close" title="Close" class="close">X</a><h2>Bird Song</h2></div></div>',answerEntryField='<div class="group"><input name="userProvided" type="text" id="search" class="form-control js-query" placeholder="common name"><button class="btn btn-input-group submit js-search">Submit</button></div>',dataToAppend+='<div class="eachSet col-sm-6" id="'+i+'"><span class="name reveal"></span>'+d+"</div>"}$(".appendHere").append(dataToAppend)}function checkAnswer(){if(searchElement=birdData.recordings.length-1+1e3,console.log(searchElement),element=$(".js-query").val(),console.log(element+"is the user entered answer"),element=element.toLowerCase(),console.log(element),correctAnswer=birdData.recordings[objectID].en,correctAnswer=correctAnswer.toLowerCase(),console.log(correctAnswer),correctAnswer==element){youreCorrect='<div class="buffer3">Something</div><div class="btn btn-group-sm btn-success correct">Correct !</div>',$(".correct").remove(),$(".buffer3").remove(),$(".pointsAndNewBird").append(youreCorrect),console.log("Hi"),sum+=10,sum>=100&&(sum=100);var a='<div class="points btn btn-group-sm"> Points: '+sum+"/"+total+"</div>";$(".points").replaceWith(a);var b='<div class="plusten"> +10 </div>';$(".plusten").remove(),$(".appendOtherColumn").prepend(b).fadeIn(1e3)}else{console.log("Nope!"),youreWrong='<div class="buffer"> Something </div><div class="btn btn-group-sm btn-danger wrong">Wrong Click \'New Bird\'</div>',$(".wrong").remove(),$(".buffer").remove(),$(".pointsAndNewBird").append(youreWrong);var c='<div class="btn btn-group-sm btn-default giveAnswer">The Answer is....  '+birdData.recordings[objectID].en+'</div><div class="buffer2"> Something </div>';$(".giveAnswer").remove(),$(".buffer2").remove(),$(".countries").append(c);var a='<div class="btn btn-group-sm points"> Points: '+sum+"/"+total+"</div>";$(".points").replaceWith(a)}}function radioCheckAnswer(a){if(correctAnswer=birdData.recordings[objectID].en,correctAnswer=correctAnswer.toLowerCase(),console.log(correctAnswer),console.log("The correct answer is:"+correctAnswer),console.log("The selected answer is:"+a),correctAnswer==a){youreCorrect='<div class="btn btn-group-sm btn-success correct">Correct !</div><div class="buffer3">Something</div>',$(".correct").remove(),$(".buffer3").remove(),$(".pointsAndNewBird").append(youreCorrect),console.log("Hi"),sum+=10,sum>=100&&(sum=100);var b='<div class="btn btn-group-sm points"> Points: '+sum+"/"+total+"</div>";$(".points").replaceWith(b);var c='<div class="plusten"> +10 </div>';$(".plusten").remove(),$(".answerForm").prepend(c).fadeIn(1e3)}else{console.log("Nope!"),youreWrong='<div class="buffer"> Something </div><div class="btn btn-group-sm btn-danger wrong">Wrong Click \'New Bird\'</div>',$(".wrong").remove(),$(".buffer").remove(),$(".pointsAndNewBird").append(youreWrong);var d='<div class="btn btn-group-sm btn-default giveAnswer">The Answer is....  '+birdData.recordings[objectID].en+'</div><div class="buffer2"> Something </div>';$(".giveAnswer").remove(),$(".buffer2").remove(),$(".countries").append(d);var b='<div class="btn btn-group-sm points"> Points: '+sum+"/"+total+"</div>";$(".points").replaceWith(b),$(".answerForm").hide()}}function toggleVisibility(a){var b=document.getElementById(a);(b.style.display="none")?b.style.display="block":b.style.display="none",console.log(b)}var localRoute="/apiBirds",birdData,dataToAppend,someSpace,previous=1,newbirdnumber,answerArray=[],choiceArray=[],answerEntryField,number,objectID,correctAnswer,youreCorrect,youreWrong,choice,element,searchElement,activeLink,modal,numQs=10,sum=0,total=10*numQs,qnumber=1,totalforGame,country="brazil",displayQuestions,radioButtons,previousradioAnswer,radioAns,answerFormDiv,fileLocation,n,o,p;$(document).ready(function(){$(".userInput").on("click",function(){$(".buttonsHolder").hide(),$(".newbird2").show(),$(".points").show();var a=birdData.recordings.length-1;number=randomNumber(0,a),console.log("Random number for letsplay"+number),toggleVisibility(number),objectID=number,previous=number,console.log("This is the id that matches the random number"+birdData.recordings[number].en),$(".textHere").append(answerEntryField);var b='<div class="btn btn-group-sm newbird btn-info" style="display:none">New Bird</div>';$(".appendOtherColumn").append(answerFormDiv),$(".answerForm").prepend(b)}),$(".radiochoice").on("click",function(){$(".buttonsHolder").hide(),$(".newbird").show(),$(".points").show();var a=birdData.recordings.length-1;number=randomNumber(0,a),console.log("Random number for letsplay"+number),toggleVisibility(number),objectID=number,previous=number,answerArray=[birdData.recordings[objectID].en,birdData.recordings[n].en,birdData.recordings[o].en,birdData.recordings[p].en],console.log("This is the id that matches the random number"+birdData.recordings[number].en+number),console.log(answerArray),choiceArray=shuffle(answerArray),console.log(choiceArray),answerFormDiv='<div class ="answerForm"></div>',radioButtons='<div class="row"><div class="circle" id="9996"></div><div class="result">'+choiceArray[0]+'</div></div></div><div class="row"><div class="circle" id="9997"></div><div class="result">'+choiceArray[1]+'</div></div></div><div class="row"><div class="circle" id="9998"></div><div class="result">'+choiceArray[2]+'</div></div></div><div class="row"><div class="circle" id="9999"></div><div class="result">'+choiceArray[3]+"</div></div></div>",$(".appendOtherColumn").append(answerFormDiv),$(".answerForm").append(radioButtons);var b='<div class="points btn btn-group-sm"> Points: '+sum+"/"+total+"</div>";$(".points").replaceWith(b)}),$(".textHere").on("click",".js-search",function(){$(".correct").remove(),$(".wrong").remove(),checkAnswer(),$(this).attr("disabled",!0),document.getElementById("search").value="",console.log(this)}),$(".appendOtherColumn").on("click",".circle",function(){function a(a){return 9996==a?radioAns=choiceArray[0]:9997==a?radioAns=choiceArray[1]:9998==a?radioAns=choiceArray[2]:9999==a&&(radioAns=choiceArray[3]),radioAns=radioAns.toLowerCase(),console.log("This is the selected choice"+radioAns),radioAns}choice=$(this).attr("id"),console.log(choice),$(this).toggleClass("dos"),$(this).next().toggleClass("deepbrown"),$(".circle").hide(),radioCheckAnswer(a(choice))}),$(".newbird").on("click",function(){qnumber+=1;var a=document.getElementById(previous);(a.style.display="block")&&(a.style.display="none"),$(".js-search").attr("disabled",!1),$(".answerForm").remove(),$(".correct").remove(),$(".wrong").remove(),$(".questions").remove(),$(".plusten").remove(),$(".giveAnswer").remove(),displayQuestions='<p class="questions"> Question: '+qnumber+"/"+numQs+"</p>",2==qnumber?$(".underflagdiv").replaceWith(displayQuestions):$(".flagdiv").append(displayQuestions);var b=birdData.recordings.length-1;if(number=randomNumber(0,b),console.log(number),objectID=number,toggleVisibility(number),previous=number,activeLink=birdData.recordings[number].file,answerArray=[birdData.recordings[number].en,birdData.recordings[n].en,birdData.recordings[o].en,birdData.recordings[p].en],correctAnswer=birdData.recordings[number].en,console.log("This is the bird index number"+number),console.log("This is the id that matches the random number"+birdData.recordings[number].en),console.log(answerArray),choiceArray=shuffle(answerArray),console.log(choiceArray),answerFormDiv='<div class ="answerForm"></div>',radioButtons='<div class="row"><div class="circle" id="9996"></div><div class="result">'+choiceArray[0]+'</div></div></div><div class="row"><div class="circle" id="9997"></div><div class="result">'+choiceArray[1]+'</div></div></div><div class="row"><div class="circle" id="9998"></div><div class="result">'+choiceArray[2]+'</div></div></div><div class="row"><div class="circle" id="9999"></div><div class="result">'+choiceArray[3]+"</div></div></div>",$(".appendOtherColumn").append(answerFormDiv),$(".answerForm").append(radioButtons),qnumber>10){var c=prompt("Would you like to start a new game?  Type 'yes' or 'no'");"yes"==c?(totalforGame=sum,location.reload()):($(".container").hide(),alert("Thanks for playing!"))}}),$(".newbird2").on("click",function(){qnumber+=1;var a=document.getElementById(previous);(a.style.display="block")&&(a.style.display="none"),$(".js-search").attr("disabled",!1),$(".correct").remove(),$(".wrong").remove(),$(".questions").remove(),$(".plusten").remove(),$(".giveAnswer").remove(),displayQuestions='<p class="questions"> Question: '+qnumber+"/"+numQs+"</p>",2==qnumber?$(".underflagdiv").replaceWith(displayQuestions):$(".flagdiv").append(displayQuestions);var b=birdData.recordings.length-1;if(number=randomNumber(0,b),console.log(number),objectID=number,toggleVisibility(number),console.log("This is the id that matches the random number"+birdData.recordings[number].en),previous=number,qnumber>10){var c=prompt("Would you like to start a new game?  Type 'yes' or 'no'");"yes"==c?(totalforGame=sum,location.reload()):($(".container").hide(),alert("Thanks for playing!"))}}),$(".headerflag").on("click",".specificflag",function(){$(".letsplay").show(),$(".radiochoice").show(),$(".userInput").show(),$(".nameentry").hide(),console.log("I clicked a flag....");var a=$(this).attr("id");console.log(a),$.get(a,function(a){birdData=a,console.log(".get json data works"),console.log(birdData.recordings.length),dataDisplay(a)})})});